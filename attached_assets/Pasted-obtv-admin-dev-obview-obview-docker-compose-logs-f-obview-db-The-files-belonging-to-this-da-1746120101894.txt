obtv-admin@dev-obview:~/obview$ docker-compose logs -f
obview_db   | The files belonging to this database system will be owned by user "postgres".
obview_app  | Waiting for database to be ready...
obview_app  | Attempting to connect to PostgreSQL at db:5432 as postgres...
obview_app  | Database name: obview
obview_app  | PostgreSQL is available at db:5432 - connection successful
obview_app  | Running database migrations...
obview_app  | Connecting to database...
obview_db   | This user must also own the server process.
obview_app  | Looking for migrations in: /app/migrations
obview_app  | Found 1 migration files: 0000_smooth_whistler.sql
obview_app  | Running migration: 0000_smooth_whistler.sql
obview_app  | Migration 0000_smooth_whistler.sql completed
obview_app  | All migrations completed successfully
obview_app  | Migration script completed successfully
obview_app  | Setting up admin user if needed...
obview_app  | Connecting to database...
obview_db   |
obview_app  | Checking if users table exists...
obview_app  | Users table found
obview_db   | The database cluster will be initialized with locale "en_US.utf8".
obview_db   | The default database encoding has accordingly been set to "UTF8".
obview_db   | The default text search configuration will be set to "english".
obview_app  | Creating admin user: admin
obview_db   |
obview_app  | Admin user created successfully
obview_app  | Setup completed successfully
obview_app  | Starting OBview.io application initialization...
obview_db   | Data page checksums are disabled.
obview_db   |
obview_db   | fixing permissions on existing directory /var/lib/postgresql/data ... ok
obview_db   | creating subdirectories ... ok
obview_app  | Found secondary entry point: /app/dist/index.js
obview_db   | selecting dynamic shared memory implementation ... posix
obview_db   | selecting default max_connections ... 100
obview_app  | Starting the application...
obview_app  | Database connection mode: PostgreSQL (Docker/Production)
obview_app  | 5:20:27 PM [express] serving on port 5000
obview_app  | Database connection initialized successfully
obview_db   | selecting default shared_buffers ... 128MB
obview_db   | selecting default time zone ... UTC
obview_db   | creating configuration files ... ok
obview_db   | running bootstrap script ... ok
obview_db   | sh: locale: not found
obview_db   | 2025-05-01 17:20:20.942 UTC [35] WARNING:  no usable system locales were found
obview_db   | performing post-bootstrap initialization ... ok
obview_db   | syncing data to disk ... ok
obview_db   |
obview_db   |
obview_db   | Success. You can now start the database server using:
obview_db   | initdb: warning: enabling "trust" authentication for local connections
obview_db   | initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.
obview_db   |
obview_db   |     pg_ctl -D /var/lib/postgresql/data -l logfile start
obview_db   |
obview_db   | waiting for server to start....2025-05-01 17:20:22.139 UTC [41] LOG:  starting PostgreSQL 16.8 on x86_64-pc-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit
obview_db   | 2025-05-01 17:20:22.140 UTC [41] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
obview_db   | 2025-05-01 17:20:22.145 UTC [44] LOG:  database system was shut down at 2025-05-01 17:20:21 UTC
obview_db   | 2025-05-01 17:20:22.152 UTC [41] LOG:  database system is ready to accept connections
obview_db   |  done
obview_db   | server started
obview_app  | 5:20:28 PM [express] GET /api/user 401 in 4ms
obview_app  | Initializing PostgreSQL session store
obview_app  | PostgreSQL session store initialized successfully
obview_app  | 5:20:41 PM [express] POST /api/login 200 in 135ms :: {"id":1,"username":"admin","email":"obed@obedtv…
obview_app  | Auth check - isAuthenticated: false
obview_app  | Auth check - session: Session {
obview_app  |   cookie: {
obview_app  |     path: '/',
obview_db   | CREATE DATABASE
obview_db   |
obview_db   |
obview_db   | /usr/local/bin/docker-entrypoint.sh: running /docker-entrypoint-initdb.d/01-init-schema.sql
obview_db   | CREATE EXTENSION
obview_db   | CREATE TABLE
obview_db   | DO
obview_db   | GRANT
obview_db   |
obview_app  |     _expires: 2025-05-31T17:20:41.953Z,
obview_db   |
obview_app  |     originalMaxAge: 2592000000,
obview_db   | /usr/local/bin/docker-entrypoint.sh: sourcing /docker-entrypoint-initdb.d/02-init-db.sh
obview_db   | Starting database initialization...
obview_db   | Warning: /app directory not found. This script is meant to run within the application container.
obview_db   | Database initialization process completed!
obview_db   |
obview_db   | waiting for server to shut down....2025-05-01 17:20:22.418 UTC [41] LOG:  received fast shutdown request
obview_db   | 2025-05-01 17:20:22.419 UTC [41] LOG:  aborting any active transactions
obview_db   | 2025-05-01 17:20:22.422 UTC [41] LOG:  background worker "logical replication launcher" (PID 47) exited with exit code 1
obview_db   | 2025-05-01 17:20:22.424 UTC [42] LOG:  shutting down
obview_db   | 2025-05-01 17:20:22.424 UTC [42] LOG:  checkpoint starting: shutdown immediate
obview_db   | 2025-05-01 17:20:22.490 UTC [42] LOG:  checkpoint complete: wrote 924 buffers (5.6%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.037 s, sync=0.027 s, total=0.067 s; sync files=306, longest=0.002 s, average=0.001 s; distance=4293 kB, estimate=4293 kB; lsn=0/1921288, redo lsn=0/1921288
obview_db   | 2025-05-01 17:20:22.499 UTC [41] LOG:  database system is shut down
obview_db   |  done
obview_db   | server stopped
obview_db   |
obview_db   | PostgreSQL init process complete; ready for start up.
obview_db   |
obview_db   | 2025-05-01 17:20:22.556 UTC [1] LOG:  starting PostgreSQL 16.8 on x86_64-pc-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit
obview_db   | 2025-05-01 17:20:22.556 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
obview_db   | 2025-05-01 17:20:22.556 UTC [1] LOG:  listening on IPv6 address "::", port 5432
obview_app  |     httpOnly: true,
obview_app  |     secure: true
obview_app  |   }
obview_app  | }
obview_app  | Auth check - user: undefined
obview_app  | Authentication failed, returning 401
obview_app  | 5:20:41 PM [express] GET /api/projects 401 in 5ms :: {"message":"Unauthorized"}
obview_db   | 2025-05-01 17:20:22.558 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
obview_db   | 2025-05-01 17:20:22.562 UTC [59] LOG:  database system was shut down at 2025-05-01 17:20:22 UTC
obview_db   | 2025-05-01 17:20:22.569 UTC [1] LOG:  database system is ready to accept connections
obview_app  | 5:20:42 PM [express] POST /api/login 200 in 76ms :: {"id":1,"username":"admin","email":"obed@obedtv.…
obview_app  | Auth check - isAuthenticated: false
obview_app  | Auth check - session: Session {
obview_app  |   cookie: {
obview_app  |     path: '/',
obview_app  |     _expires: 2025-05-31T17:20:44.620Z,
obview_app  |     originalMaxAge: 2592000000,
obview_app  |     httpOnly: true,
obview_app  |     secure: true
obview_app  |   }
obview_app  | }
obview_app  | Auth check - user: undefined
obview_app  | Authentication failed, returning 401
obview_app  | 5:20:44 PM [express] GET /api/projects 401 in 4ms :: {"message":"Unauthorized"}
obview_app  | Auth check - isAuthenticated: false
obview_app  | Auth check - session: Session {
obview_app  |   cookie: {
obview_app  |     path: '/',
obview_app  |     _expires: 2025-05-31T17:20:49.540Z,
obview_app  |     originalMaxAge: 2592000000,
obview_app  |     httpOnly: true,
obview_app  |     secure: true
obview_app  |   }
obview_app  | }
obview_app  | Auth check - user: undefined
obview_app  | Authentication failed, returning 401
obview_app  | 5:20:49 PM [express] POST /api/projects 401 in 2ms :: {"message":"Unauthorized"}
obview_app  | Auth check - isAuthenticated: false
obview_app  | Auth check - session: Session {
obview_app  |   cookie: {
obview_app  |     path: '/',
obview_app  |     _expires: 2025-05-31T17:20:58.419Z,
obview_app  |     originalMaxAge: 2592000000,
obview_app  |     httpOnly: true,
obview_app  |     secure: true
obview_app  |   }
obview_app  | }
obview_app  | Auth check - user: undefined
obview_app  | Authentication failed, returning 401
obview_app  | 5:20:58 PM [express] POST /api/projects 401 in 3ms :: {"message":"Unauthorized"}