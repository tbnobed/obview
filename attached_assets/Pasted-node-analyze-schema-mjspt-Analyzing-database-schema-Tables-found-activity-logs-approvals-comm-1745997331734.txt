node analyze-schema.mjspt
Analyzing database schema...

Tables found: activity_logs, approvals, comments, files, invitations, project_users, projects, session, users

=== Table: activity_logs ===
id (integer), default: nextval('activity_logs_id_seq'::regclass)
action (text)
entity_type (text)
entity_id (integer)
user_id (integer)
metadata (json), nullable
created_at (timestamp without time zone), default: now()

=== Table: approvals ===
id (integer), default: nextval('approvals_id_seq'::regclass)
file_id (integer)
user_id (integer)
status (text)
feedback (text), nullable
created_at (timestamp without time zone), default: now()

=== Table: comments ===
id (integer), default: nextval('comments_id_seq'::regclass)
content (text)
file_id (integer)
user_id (integer)
parent_id (integer), nullable
timestamp (integer), nullable
is_resolved (boolean), default: false
created_at (timestamp without time zone), default: now()

=== Table: files ===
id (integer), default: nextval('files_id_seq'::regclass)
filename (text)
file_type (text)
file_size (integer)
file_path (text)
project_id (integer)
uploaded_by_id (integer)
version (integer), default: 1
is_latest_version (boolean), default: true
created_at (timestamp without time zone), default: now()

=== Table: invitations ===
id (integer), default: nextval('invitations_id_seq'::regclass)
email (text)
project_id (integer), nullable
role (text), default: 'viewer'::text
token (text)
expires_at (timestamp without time zone)
is_accepted (boolean), default: false
email_sent (boolean), default: false
created_by_id (integer)
created_at (timestamp without time zone), default: now()

=== Table: project_users ===
id (integer), default: nextval('project_users_id_seq'::regclass)
project_id (integer)
user_id (integer)
role (text), default: 'viewer'::text
created_at (timestamp without time zone), default: now()

=== Table: projects ===
id (integer), default: nextval('projects_id_seq'::regclass)
name (text)
description (text), nullable
status (text), default: 'in_progress'::text
created_by_id (integer)
created_at (timestamp without time zone), default: now()
updated_at (timestamp without time zone), default: now()

=== Table: session ===
sid (character varying)
sess (json)
expire (timestamp without time zone)

=== Table: users ===
id (integer), default: nextval('users_id_seq'::regclass)
username (text)
password (text)
email (text)
name (text)
role (text), default: 'viewer'::text
created_at (timestamp without time zone), default: now()

Schema analysis complete.
obtv-admin@obview-tbn:/var/www/obview$